# Python script to create side-car files for RawTherapee CLI batch processing# Notepad++ line to run: cmd /K "$(FULL_CURRENT_PATH)"import osDEBUG = 1MYPATH = 'd:/incoming/images/test'# First let's just try to loop through brightness# Section header for pp3 fileHEADER1 = '[Exposure]'VALUE1 = 'Brightness'VALUE2 = 'Curve=1'# Variable start and end valuesSTART_BRIGHTNESS = -30END_BRIGHTNESS = 0PointSeperator = ';'Point1Startx = float('0.041818181818181824')Point1Starty = float('0.0')Point2Startx = float('0.29636363636363633')Point2Starty = float('0.26363636363636367')Point3Startx = float('0.63818181818181818')Point3Starty = float('0.52181818181818163')Point4Startx = float('0.86545454545454525')Point4Starty = float('1.0')Point1x = float('0.023636363636363632')Point1y = float('0.0')Point2x = float('0.29636363636363633')Point2y = float('0.26363636363636367')Point3x = float('0.63818181818181818')Point3y = float('0.52181818181818163')Point4x = float('1.0')Point4y = float('1.0')extensionType = '.CR2'# Get the list of CR2 filesrawList = []
for file in os.listdir(MYPATH):	if DEBUG:		print(file, end = '\n')
	if file.endswith(extensionType):
		rawList.append(file)# Number of raw files in this series
print("Legth of the series = ", len(rawList), end='\n')
for i, curFile in enumerate(rawList):	curAdjust = int(START_BRIGHTNESS + (END_BRIGHTNESS - START_BRIGHTNESS) * (i/len(rawList)))	curPoint1 = "{}{}{}".format(Point1Startx + (Point1x - Point1Startx) * (i/len(rawList)),						PointSeperator, Point1Starty + (Point1y - Point1Starty) * (i/len(rawList)))	curPoint2 = "{}{}{}".format(Point2Startx + (Point2x - Point2Startx) * (i/len(rawList)),
						PointSeperator, Point2Starty + (Point2y - Point2Starty) * (i/len(rawList)))	curPoint3 = "{}{}{}".format(Point3Startx + (Point3x - Point3Startx) * (i/len(rawList)),
						PointSeperator, Point3Starty + (Point3y - Point3Starty) * (i/len(rawList)))
	curPoint4 = "{}{}{}".format(Point4Startx + (Point4x - Point4Startx) * (i/len(rawList)),
						PointSeperator, Point4Starty + (Point4y - Point4Starty) * (i/len(rawList)))
	curAdjust2 = "{};{};{};{};{};".format(VALUE2, curPoint1, curPoint2, curPoint3, curPoint4)	if DEBUG:		print(curFile, "Brightness = ", curAdjust, end='\n')	with open("{}/{}.pp3".format(MYPATH, curFile), 'w') as myFile:		myFile.write("{}\n".format(HEADER1))		myFile.write("{}={}\n".format(VALUE1, curAdjust))		myFile.write("{}\n".format(curAdjust2))